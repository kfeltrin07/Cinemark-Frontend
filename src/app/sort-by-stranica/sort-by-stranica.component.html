<html>
<head>
    <title>CineMark</title>
    <link rel="stylesheet" href="sort-by-stranica.component.css">

</head>

    <div class="content">
      <h1>SORT BY:</h1>
      </div>

      <div class="dropdown">
        <button class="dropbtn">Genre</button>
        <div class="dropdown-content">
          <ul *ngFor="let genre of this.genres; index as i; first as isFirst">
            <li><a (click)="sortFilmByGenre(genre.id_genre)">{{genre.name}}</a></li>
          </ul>
      </div>
    </div>

    <div class="dropdown">
      <button class="dropbtn">Rating</button>
      <div class="dropdown-content">
        <ul>
          <li><a (click)="sortFilmByBestRated()">Best Rated</a></li>
          <li><a (click)="sortFilmByRatingCount()">Most Rated</a></li>
        </ul>
    </div>
  </div>

    <div class="dropdown">
      <button class="dropbtn">Year</button>
      <div class="dropdown-content">
        <ul>
          <li><a (click)="sortFilmByYear2023()">2023</a></li>
          <li><a (click)="sortFilmByYear2021_2022()">2021 - 2022</a></li>
          <li><a (click)="sortFilmByYear2010_2020()">2010 - 2020</a></li>
          <li><a (click)="sortFilmByYear2000_2010()">2000 - 2010</a></li>
          <li><a (click)="sortFilmByYear1990_2000()">1990 - 2000</a></li>
          <li><a (click)="sortFilmByYearOlder()">Older</a></li>
        </ul>
      </div>
    </div>

    <div *ngFor="let film of sortedFilms | paginate: { id: 'paginate', itemsPerPage: pageSize, currentPage: page }">
      <div class="component">
        <div class="film-list">  
          <div class="film img" id="filmBox">
            <img src={{film.picture_url}} (click)="updateSelectedFilm(film.title)" alt="film picture" routerLink="/film">
              <div class="title" >
                <span (click)="updateSelectedFilm(film.title)" routerLink="/film">{{film.title}} ({{film.release_date.substring(0,4)}})</span>
                <p class="info">Director: {{film.director}}</p>
                <p class="info">{{film.summary}}</p>
                <p class="info">Rating: {{(film.total_rating/film.rating_count).toFixed(2)}}</p>
              </div>
          </div>
        </div>
      </div>
    </div>

    
    <div class="pagination">
      <pagination-controls  id="paginate"
      (pageChange)="page= ($event); scrollToTop($event)"
      (pageBoundsCorrection)="page =(1)"
      previousLabel="Previous"
      nextLabel="Next"
      screenReaderPaginationLabel="Pagination"
      screenReaderPageLabel="page"
      screenReaderCurrentLabel="You're on page">
    </pagination-controls>
    </div>
</html>
